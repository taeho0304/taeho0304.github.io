(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["fbAutologin"],{"0iut":function(e,o,t){t.d(o,"a",(function(){return n}));function n(e,o){const t=(((o||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,o)=>t.indexOf("<"+o.toLowerCase()+">")>-1?e:"")}o.b=e=>e.replace(/(<([^>]+)>)/gi,"")},Sxnd:function(e,o,t){t.r(o),t.d(o,"fbAutologinCallback",(function(){return j}));var n=t("gxu6"),a=t("K316"),c=t("OCob"),r=t("kJuv"),i=t("28DW"),u=t("h7e3");var _=t("m2Wt"),s=t("h4v/"),b=t("Jr++"),g=t("Ncr9"),l=t("zwad");t("0iut");function f(e){const o=function(e){const{hostname:o}=l.a.parse(e,!0);if(o&&e){if(e.match(/^(http|https):\/\/(www.)?google\.com$|google\.(co|com)\.[a-z]{2}$|google\.[a-z]{2}$/))return"GOOGLE";if(o.includes("bing."))return"BING";if(o.includes("yahoo."))return"YAHOO"}return""}(e);return["GOOGLE","BING","YAHOO"].includes(o)}var O=t("J8m7");const d=[O.t,O.j,O.v,O.r,O.x,O.u],p=e=>"facebook"===e?2:3,h=(e,o)=>{const t=_.a.fromPlainObject({event_type:o});t.updateAuxData({signup_login_method:p(e),unauth_data:JSON.stringify({autologin:!0})}),s.a.getInstance().addEvent(t)},k=e=>{h(e,7536),Object(g.a)((()=>{let e=window.nextUrlParam;const o={autologin:!0};if(!e&&(e=window.location.pathname||"/","/"!==e&&f(document.referrer)&&(o.lp="true"),Object.assign(o,Object(b.a)()),o)){const t=o.next;t&&(e=t,delete o.next)}return l.a.appendQueryString(e,o)})())};function j(e){if(n.a("fbalae")){Object(u.a)("facebook_autologin","autologin_disabled");const e=n.a("fbalae");Object(i.a)("autologin.facebook.skip_for_known_api_errors."+String(e))}else if(Object(i.a)("autologin.facebook_attempt.pure_react"),"connected"===e.status)if(n.a("fba"))Object(u.a)("facebook_autologin","autologin_disabled"),Object(i.a)("autologin.facebook.connected_but_disabled_via_user_cookie");else{const o=e.authResponse;if(!o)return Object(i.a)("autologin.facebook_fail"),void Object(u.a)("facebook_autologin","no_auth_response");Object(u.d)("facebook_autologin"),(e=>{Object(i.a)("autologin."+e);const o=_.a.fromPlainObject({event_type:38,view_type:9});o.updateAuxData({login_provider:e,unauth_data:JSON.stringify({autologin:!0})}),s.a.getInstance().addEvent(o)})("facebook"),h("facebook",7534),Object(r.a)({facebook_id:o.userID,facebook_token:o.accessToken,facebook_autologin:!0},Object(c.a)(),{container:"autologinfb"}).then(()=>{k("facebook")},e=>{((e,o)=>{if(h(e,7535),!d.includes(o.api_error_code))throw o.api_error_code?Object(i.a)(`autologin.${e}.uncaught_api_error_code.${o.api_error_code}`):Object(i.a)(`autologin.${e}.uncaught_with_no_api_error_code`),o;n.b("google"===e?"galae":"fbalae",String(12),12)})("facebook",e)})}else Object(u.a)("facebook_autologin","login_status_"+e.status)}o.default=(e,o)=>{t.e("facebookEnsureInitForDesktop").then(t.bind(null,"TvzZ")).then(({default:t})=>{Object(i.a)("unauth_web.facebook_connect.autologin.attempt"),t(o=>{Object(u.b)("facebook_autologin","UnauthFacebookAutologinScriptLoadedEvent"),Object(i.a)("unauth_web.facebook_autologin.get_login_status.attempt"),o.getLoginStatus(o=>{Object(i.a)("unauth_web.facebook_connect.autologin.success"),"connected"===o.status&&(Object(i.a)("unauth_web.facebook_autologin.get_login_status.response_connected"),Object(u.b)("facebook_autologin","UnauthFacebookAutologinSuccessEvent"),e({type:"FB_AUTOLOGIN_CONNECTED",payload:{}})),j(o),"not_authorized"===o.status?(Object(i.a)("unauth_web.facebook_autologin.get_login_status.response_not_authorized"),e({type:"FB_AUTOLOGIN_NOT_AUTHORIZED",payload:{}})):"authorization_expired"===o.status?(Object(i.a)("unauth_web.facebook_autologin.get_login_status.response_authorization_expired"),e({type:"FB_AUTOLOGIN_AUTH_EXPIRED",payload:{}})):e({type:"FB_AUTOLOGIN_UNKNOWN",payload:{}})})},a.a,o)})}},dish:function(e,o,t){t.d(o,"a",(function(){return a})),t.d(o,"b",(function(){return c}));var n=t("QLqj");const a=()=>n.b.localStorage.getItem("uoiou")||!1,c=e=>{n.b.localStorage.setItem("uoiou",!!e)}},kJuv:function(e,o,t){var n=t("eOdZ"),a=t("QLqj"),c=t("kmwA"),r=t("J8m7"),i=t("sv3x"),u=t("AXUD"),_=t("looy"),s=t("dish"),b=t("OX7c"),g=t("28DW"),l=t("yM2L");const f=function(e,o,t="",n=!1){let a="referrer_unknown";try{const e=document.referrer;a=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(l){}const c=Object(i.c)(e),r=o===Object(o)?o.hybridTier:"tier_unknown",u=o===Object(o)?o.container:"container_unknown";Object(g.a)("login.referrer."+a+"."+c),Object(g.a)("login.container."+u+"."+c),Object(g.a)("login.type."+c);const s=Object(i.c)(e)||"method_unknown",b=o.page||"page_unknown";e.gplus_autologin?n?(Object(g.a)("mweb_autologin.google_success"),Object(g.i)("new_mweb_autologin_google",{page:b,referrer:a,container:u,hybridTier:r})):(Object(g.a)("web_autologin_google"),Object(g.i)("new_web_autologin_google",{page:b,referrer:a,container:u,hybridTier:r})):e.facebook_autologin?(Object(g.a)("web_autologin_facebook"),Object(g.i)("new_web_autologin_facebook",{page:b,referrer:a,container:u,hybridTier:r})):(Object(g.a)(`web_login.${s}.success.${b}.${u}.${a}.${r}`),Object(g.i)(`new_web_login.${s}.success`,{page:b,referrer:a,container:u,hybridTier:r})),"US"===t&&Object(_.c)("web_login")},O=(e,o)=>{Object(g.a)(`web_cross_domain_login.${e}.${Object(i.c)(o)}`)},d=(e,o,t="unknown_source",n=!1)=>{if(e){const a=e.http_status===u.b?u.b:e.api_error_code;let c=a;r.b.has(a)&&(c=r.b.get(a));const{container:i}=o;n?Object(g.a)(`unauth_web_client_cctld_login_api_error.${String(c)}.${i||"unknow_container"}.${t}`):Object(g.a)(`unauth_web_client_login_api_error.${String(c)}.${i||"unknow_container"}.${t}`)}};o.a=function(e,o,t={},r=!1,u,_,g=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==c.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(o.origin))return function(e,o,t,n){O("attempt",e);const{referrer:a,facebookToken:c,unauthId:r}=n;return Object(l.loginUser)(e,{recaptchaV3Token:o,referrer:a,facebookToken:c,unauthId:r}).then(o=>{if(o&&o.data){O("success_with_token",e);const n=o.data;return Object(l.exchangeTokenAndSetSession)(n).then(o=>(O("success_token_exchanged",e),f(e,t),Promise.resolve()),o=>{throw O("success_token_not_exchanged",e),o})}throw O("success_without_token",e),new Error},o=>{throw O("failure",e),d(o,t,Object(i.c)(e),!0),o})}(e,_,t,o)}const p=r?null:a.b.localStorage.getItem("visitedPagesBeforeLogin"),h={...e,get_user:e.get_user||e.switch_account&&r,app_type_from_client:7===o.appType?7:5,visited_pages_before_login:p?JSON.stringify(p):null,recaptchaV2Token:u,recaptchaV3Token:_};return n.a.create("UserSessionResource",h).callCreate({showError:!1,async:!0}).then(o=>{const{client_context:n}=o||{},{country:a}=n||{};return f(e,t,a,g),Object(s.b)(!1),Object(b.a)("login").then(()=>o)},o=>(d(o,t,Object(i.c)(e)),Promise.reject(o)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/fbAutologin-bcb5be449ca64a19e257.mjs.map