---
layout: post
title: 이펙티브 자바 - item 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라 [JAVA]
description: >
  item 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라
tags: [JAVA]
---

## 이펙티브 자바 - item 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라

## 이펙티브 자바 - 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라

### public 필드 사용의 단점

- API를 수정하지 않고는 내부 표현을 바꿀 수 없다.
- 불변식을 보장하지 못한다.
- 클라이언트 코드가 필드를 직접 사용하면 캡슐화의 장점을 제공하지 못한다.
- 외부에서 필드를 접근할 때 부수 작업을 수행할 수도 없다(스레드 안전 X)

### 필드를 모두 private으로 바꾸고 public 접근자(getter)를 추가하자

- 필드에 접근할 때 부수 작업을 할 수 있다.
- 필드를 변경하려면 API를 변경해야 한다.

### 데이터 필드를 노출해도 되는 package-private 클래스 혹은 private 중첩 클래스

클래스가 표현하려는 추상 개념만 올바르게 표현해주면 된다.

1. 클래스 선언 면에서나 이를 사용하는 클라이언트 코드 면에서나 접근자 방식보다 깔끔하다.

2. 클라이언트 코드가 해당 클래스 내부 표현에 종속되나 클라이언트도 어차피 이 클래스를 포함하는 패키지 안에서만 동작하는 코드일 뿐이다.

3. 따라서 패키지 바깥 코드는 전혀 손대지 않고 데이터 표현 방식을 바꿀 수 있다.

4. private 중첩 클래스의 경우 수정 범위가 더 좁아져서 이 클래스를 포함하는 외부 클래스까지로 제한된다.

- 개인적인 의견으로는 그래도 그냥 getter를 쓰는게 나을 것 같다.

### 클래스 필드가 불변이라고 public으로 두는 것은 좋은 생각이 아니다.

불변를 노출하는 건 가변 필드 노출보다 덜 위험하지만, 내부표현에 묶이고, 부수작업을 수행할 수 없으므로 public 말고 private을 사용하자.

### 정리

public 클래스는 절대 가변 필드를 직접 노출해서는 안 된다.

불변 필드라해도 여전히 안심할 수없다.

하지만 package-private 클래스나 private 중첩 클래스에서는 필드를 노출하는 편이 나을 때도 있다.(개인적으로 그냥 접근자 붙이는게 나을 것 같다.)
